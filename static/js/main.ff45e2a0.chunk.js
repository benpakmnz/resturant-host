(this["webpackJsonprestaurant-host"]=this["webpackJsonprestaurant-host"]||[]).push([[0],{104:function(e){e.exports=JSON.parse('[{"Table":101,"Diners":1,"Concat":[102,103]},{"Table":102,"Diners":1,"Concat":[101,103]},{"Table":103,"Diners":1,"Concat":[101,102]},{"Table":201,"Diners":2,"Concat":[202]},{"Table":202,"Diners":2,"Concat":[201]},{"Table":203,"Diners":2,"Concat":[601]},{"Table":301,"Diners":3,"Concat":[]},{"Table":302,"Diners":3,"Concat":[501]},{"Table":401,"Diners":4,"Concat":[402]},{"Table":402,"Diners":4,"Concat":[401]},{"Table":501,"Diners":5,"Concat":[302]},{"Table":601,"Diners":6,"Concat":[203]}]')},105:function(e){e.exports=JSON.parse('[{"Mobile":"053-111-2222","Diners":1},{"Mobile":"053-222-3333","Diners":1},{"Mobile":"053-333-4444","Diners":2},{"Mobile":"053-444-5555","Diners":2},{"Mobile":"053-555-6666","Diners":2},{"Mobile":"053-666-7777","Diners":3},{"Mobile":"053-777-8888","Diners":3},{"Mobile":"053-888-9999","Diners":4},{"Mobile":"053-999-0000","Diners":4},{"Mobile":"054-111-2222","Diners":5},{"Mobile":"054-222-3333","Diners":6},{"Mobile":"054-333-4444","Diners":1},{"Mobile":"054-444-5555","Diners":2},{"Mobile":"053-555-6666","Diners":3}]')},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),s=(a(93),a(8)),l=a(16),b=a(13),o=(a(94),a(145)),j=a(138),d=a(146),O=a(140),u=a(147),x=a(142),h=a(148),D=a(78),f=a.n(D),m=a(79),v=a.n(m),p=a(80),g=a.n(p),T=a(48),M=a.n(T),w=(a(95),a(1)),C=function(e){var t,a,c,i=Object(n.useState)(0),s=Object(b.a)(i,2),l=s[0],D=s[1],m=Object(n.useState)(!1),p=Object(b.a)(m,2),T=p[0],C=p[1];Object(n.useEffect)((function(){l>90&&e.clearTable(e.tableData.Table);var t=null;return e.tableData.Order?t=setInterval((function(){D((function(e){return e+1}))}),1e3):e.tableData.Order||0===l||(clearInterval(t),D(0)),function(){return clearInterval(t)}}),[e,l]);return Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsxs)("li",{className:"table_container",children:[Object(w.jsxs)("button",{className:"table_btn",disabled:!e.tableData.Order,onClick:function(){return C(!0)},children:[Object(w.jsx)("span",{className:"table_shape ".concat(1===e.tableData.Diners?"circle":2===e.tableData.Diners?"wide_circle":3===e.tableData.Diners?"triangle-up":4===e.tableData.Diners?"square":e.tableData.Diners>=5?"pentagon":void 0," ").concat(0===l?" clear":l<60?" accupied":" almost-done")}),e.tableData.Order&&Object(w.jsx)(M.a,{className:"tabled_order"})]}),Object(w.jsxs)(o.a,{align:"center",variant:"caption",children:["Table number: ",e.tableData.Table]})]}),Object(w.jsx)(j.a,{open:T,onClose:function(){return C(!1)},children:Object(w.jsxs)("div",{className:"info_modal",children:[Object(w.jsxs)(o.a,{variant:"h6",align:"center",children:["Table number: ",e.tableData.Table,", now Serves:"]}),e.tableData.Order?Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(O.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(x.a,{children:Object(w.jsx)(f.a,{})})}),Object(w.jsx)(h.a,{primary:"Order number",secondary:null===(t=e.tableData.Order)||void 0===t?void 0:t.Mobile})]}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(x.a,{children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(h.a,{primary:"Amount of pepole:",secondary:null===(a=e.tableData)||void 0===a?void 0:a.Order.Diners})]}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(x.a,{children:Object(w.jsx)(g.a,{})})}),Object(w.jsx)(h.a,{primary:"Started at",secondary:null===(c=e.tableData.Order)||void 0===c?void 0:c.start_time})]})]}):Object(w.jsx)(o.a,{variant:"body2",align:"center",children:"Nobody, its avaliable to get new orders"})]})})]})},S=a(65),y=a.n(S),_=a(149),I=a(150),N=a(151),Y=a(153),F=a(154),k=a(136),E=a(139),H=a(143),J=a(155),z=a(137),P=a(144),A=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],i=t[1],j=Object(n.useState)([]),O=Object(b.a)(j,2),D=O[0],f=O[1],m=Object(n.useState)([]),v=Object(b.a)(m,2),p=v[0],g=v[1],T=Object(n.useState)("error"),S=Object(b.a)(T,2),A=S[0],B=S[1],G=Object(n.useState)(""),L=Object(b.a)(G,2),q=L[0],R=L[1];Object(n.useEffect)((function(){i(a(104)),f(a(105))}),[]);var K=function(e){var t=Object(l.a)(c),a=t.findIndex((function(t){return t.Table===e}));t[a].Order.end_time=y()(new Date).format("DD/MM/YYYY, HH:mm"),t[a].Order.Table=[t[a].Table],g([].concat(Object(l.a)(p),[t[a].Order])),delete t[a].Order,console.log(p)};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(_.a,{sx:{display:"flex"},children:[Object(w.jsx)(I.a,{}),Object(w.jsxs)(N.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:[Object(w.jsxs)(Y.a,{children:[Object(w.jsx)(o.a,{variant:"h6",sx:{flexGrow:1},children:"Resturant Host Planner"}),Object(w.jsx)(F.a,{variant:"outlined",color:"inherit",startIcon:Object(w.jsx)(M.a,{}),onClick:function(){if(D.length>0)if(c.find((function(e){return!e.Order}))){var e=Object(l.a)(c),t=Object(l.a)(D);e.forEach((function(e){t.forEach((function(a,n){a.Diners!==e.Diners||e.Order||(e.Order=a,e.Order.start_time=y()(new Date).format("DD/MM/YYYY, HH:mm"),t.splice(n,1))}))})),i(e),f(t)}else B("error"),R("there are no avivalble tables for serving");else B("warning"),R("There are no waiting orders")},children:"Serve waiting list"})]}),""!==q&&Object(w.jsx)(k.a,{sx:{width:"100%"},spacing:2,children:Object(w.jsx)(E.a,{onClose:function(){return R("")},severity:A,children:q})})]}),Object(w.jsxs)(H.a,{variant:"permanent",sx:Object(s.a)({width:350,flexShrink:0},"& .MuiDrawer-paper",{width:350,boxSizing:"border-box"}),children:[Object(w.jsx)(Y.a,{}),Object(w.jsx)(_.a,{sx:{overflow:"auto"},children:D.length>0?Object(w.jsx)(d.a,{subheader:Object(w.jsx)(J.a,{children:"Orders wating for service"}),children:D.map((function(e,t){return Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsxs)(z.a,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(x.a,{})}),Object(w.jsx)(h.a,{primary:"Amount of guests: ".concat(e.Diners),secondary:"Contact number: ".concat(e.Mobile)})]}),Object(w.jsx)(P.a,{variant:"inset"})]},t)}))}):Object(w.jsx)(o.a,{align:"center",sx:{mt:20},children:"There are no waiting orders"})})]}),Object(w.jsxs)(_.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(w.jsx)(Y.a,{}),Object(w.jsx)("ul",{className:"tables_list",children:c.map((function(e){return Object(w.jsx)(C,{tableData:e,clearTable:K},e.Table)}))})]})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,157)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(A,{})}),document.getElementById("root")),B()},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.ff45e2a0.chunk.js.map